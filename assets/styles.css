:root{--bg:#f3f6ef;--panel:#ffffff;--ink:#1d2a22;--muted:#5a6a61;--accent:#0b8f65;--accent-2:#c5eadf;--warn:#a64b00;}
*{box-sizing:border-box}
body{margin:0;font-family:'Trebuchet MS',Verdana,sans-serif;background:linear-gradient(180deg,#e8f4ef, #f3f6ef 40%);color:var(--ink)}
.wrap{max-width:900px;margin:0 auto;padding:24px 16px 64px}
h1{margin:0 0 16px;font-size:2rem;letter-spacing:.4px}
.panel{background:var(--panel);border:1px solid #d7e3db;border-radius:12px;padding:14px;box-shadow:0 12px 24px rgba(21,34,28,.06)}
.chat-panel{margin-bottom:14px;padding:10px}
.chat-scroll{height:min(60vh,520px);overflow-y:auto;padding:4px}
form{display:grid;gap:10px}
label{font-weight:700;font-size:.9rem}
input,textarea,button{font:inherit}
input,textarea{width:100%;padding:10px;border:1px solid #bccfc4;border-radius:8px;background:#fbfdfb}
textarea{min-height:84px;resize:vertical}
.row{display:flex;gap:10px;align-items:center}
button{background:var(--accent);color:#fff;border:0;padding:10px 16px;border-radius:8px;cursor:pointer;font-weight:700}
button:hover{filter:brightness(.96)}
small{color:var(--muted)}
#status{min-height:1.2em;color:var(--muted)}
#messages{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.message{padding:12px;border:1px solid #d5e3da;border-radius:10px;background:#f9fcfa}
.meta{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:6px}
.nick{font-weight:700}
.time{color:var(--muted);font-size:.85rem}
.content{white-space:pre-wrap;word-break:break-word}
.dup{font-size:.75rem;color:var(--warn);background:#ffe8d9;padding:2px 6px;border-radius:999px}
.empty{color:var(--muted);padding:12px;text-align:center;border:1px dashed #c8d9cf;border-radius:10px;background:#fbfdfb}
.error{color:#7a1f1f}
